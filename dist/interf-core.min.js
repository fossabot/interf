/**
 * @license
 * Interf <https://shvabuk.github.io/interf>
 * Released under MIT license <https://shvabuk.github.io/interf/LICENSE.txt>
 * Copyright Shvab Ostap
 */
;(function(e,t){if("function"==typeof define&&define.amd)define([],t);else if("object"==typeof module&&module.exports){var r=t();module.exports=r,module.exports.interf=r}else"object"==typeof exports&&"string"!=typeof exports.nodeName?exports.interf=t():"object"==typeof e.interf&&Number.isInteger(e.interf.VERSION)||(e.interf=t())})(this,function(){"use strict";function e(){for(var e=arguments,t=arguments.length,r=-1,n={};++r<t;)n=l(n,e[r]);return n}function t(e,r){var n=f(e);if(null===n)return!1;var o=n.constructor.__interfaces_;return!(void 0===o||!o.has(r))||t(n,r)}function r(t,r,n){var o=new _(y.version,r),i=e(n.descriptor);"function"!=typeof y._config.descriptor.set&&(i.value=o),Object.defineProperty(t.constructor,"__interfaces_",i),"function"==typeof i.set&&(t.constructor.__interfaces_=o),n.debug&&h&&h.define(!0,t,o)}function n(e){for(var t=e.length;t--;){if("object"!=typeof e[t])throw TypeError("Undefined type "+typeof e[t]+" of interface");if("function"!=typeof e[t].isInterfaceOf)throw TypeError("Undefined type of interface: "+e[t].name)}}function o(e,t,o){n(t);var i=e.constructor;return d.call(i,"__interfaces_")||r(e,null,o),i.__interfaces_.add(t,i.name),y._config.afterImplement&&y._config.callbacks.afterImplement(i.__interfaces_,i,t),o.debug&&h&&h.implement(!0,e,t),i}function i(e,r,o){n(r);var i=e.constructor,c=[],s=[],a=void 0,f=!1,l=!1;if(d.call(i,"__interfaces_")){a=i.__interfaces_.collection;for(var p=r.length;p--;){var m="";a.indexOf(r[p])>-1?i.__interfaces_.remove(r[p])?(s.push(r[p]),i.__interfaces_.has(r[p])&&(m="removed, but interface still exist in other interfaces parents."),t(e,r[p])&&(m+=" removed, but interface still exist in parents prototypes constructors interfaces.")):m="not removed from own interfaces.":(m="not found in own interfaces.",c.push(r[p])),o.warn&&m.length>0&&y._config.callbacks.warn({message:"Constructor "+i.name+". Interface "+r[p].name+" was "+m})}f=s.length===r.length,l=!0}else o.warn&&y._config.callbacks.warn({message:"Constructor "+i.name+" none interface was found. Interfaces "+u([],r).map(function(e){return e.name}).join(", ")+" was not removed from own interfaces."});return o.debug&&h&&h.remove(f,e,r,l,s,c),f}function c(e,t){var r=e.constructor,n=!1,o=!1;if(d.call(r,"__interfaces_")){var c=u([],r.__interfaces_.collection);0!==c.length&&(n=i(e,c,t)),o=!0}return t.debug&&h&&h.empty(n,e,null,o),n}function s(t,r){var n={values:t,options:{}},o=void 0;return Array.isArray(t[0])&&(n.values=t[0],"object"==typeof t[1]&&(n.options=t[1],"object"==typeof n.options.descriptor&&(o=n.options.descriptor))),n.options="string"==typeof r?e(y._config,y._config[r],n.options):e(y._config,n.options),void 0!==o&&(n.options.descriptor=o),n}function a(e){if("function"==typeof e)return e.prototype;if("function"==typeof e.constructor&&e.constructor.prototype===e)return e;throw TypeError("Wrong target, should be function (class) or prototype of function (class). Current value: "+e+".")}var f=Object.getPrototypeOf||function(e){return e.__proto__},u=function(e,t){for(var r=t.length,n=-1;++n<r;)e.push(t[n]);return e},l=function e(t,r){for(var n=t,o=Object.keys(r),i=o.length;i--;)Array.isArray(r[o[i]])?Array.isArray(n[o[i]])?n[o[i]]=u(n[o[i]],r[o[i]]):n[o[i]]=u([],r[o[i]]):"object"==typeof r[o[i]]?"object"==typeof n[o[i]]?n[o[i]]=e(n[o[i]],r[o[i]]):n[o[i]]=e({},r[o[i]]):n[o[i]]=r[o[i]];return n},p=Object.getOwnPropertySymbols||function(){return[]},d=Object.prototype.hasOwnProperty,y={VERSION:1,_config:{warn:!1,debug:!1,afterImplement:!1,descriptor:{configurable:!0,writable:!1,enumerable:!1},callbacks:{warn:function(e){"object"==typeof console&&console.warn&&console.warn(e.message)},debug:function(e){"object"==typeof console&&console.log&&console.log(e.message,e)},afterImplement:function(e,t,r){}},mixin:{createInit:!0,interfaces:!0,replace:!0,notConfigurableNotWritableError:!0,ignore:{protoProps:["constructor","apply","bind","call","isGenerator","toSource","toString","__proto__"],staticProps:["arguments","arity","caller","length","name","displayName","prototype","__proto__"]}}}},m="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),g=function(){function e(e){var t=this;if(void 0!==e.extends&&!Array.isArray(e.extends))throw TypeError("Interface extends should be an Array");if("string"!=typeof e.name||0===e.name.length)throw TypeError("Interface should have a name");for(var r=Object.keys(e),n=r.length;n--;){if(!(m.indexOf(r[n][0])>-1||"name"===r[n]||"extends"===r[n]))throw Error("Interface optional property name should start with capital letter");t[r[n]]=e[r[n]]}}return e.prototype.isInterfaceOf=function(e){var r=f(e);if(null===r)return!1;var n=r.constructor.__interfaces_;return!(void 0===n||!n.has(this))||t(r,this)},e}(),_=function(e){this.collection=[],this.VERSION=e};_.prototype.add=function(e,t){for(var r=this,n=e.length,o=-1;++o<n;){for(var i=r.collection.length;i--;)if(r.collection[i]===e[o])throw Error("Class "+t+" cannot implement previously implemented interface "+e[o].name);r.collection.push(e[o])}return this},_.prototype.remove=function(e){for(var t=this,r=this.collection.length;r--;)if(e===t.collection[r])return t.collection.splice(r,1),!0;return!1},_.prototype.has=function(e){for(var t=this,r=this.collection.length;r--;){if(e===t.collection[r])return!0;if("object"==typeof t.collection[r].extends&&t.extendsHas(e,t.collection[r].extends))return!0}return!1},_.prototype.extendsHas=function(e,t){for(var r=this,n=t.length;n--;){if(e===t[n])return!0;if(void 0!==t[n].extends&&r.extendsHas(e,t[n].extends))return!0}return!1};var h=!1;return y.create=function(e,t){var r=arguments;if("string"==typeof r[0]){var n={name:r[0]};return void 0!==r[1]&&(n.extends=r[1]),new g(n)}if("object"==typeof r[0])return new g(r[0]);throw TypeError("In method interf.create first parameter should be an object or Interface name")},y.implement=function(){var e=s(arguments);return{in:function(t){return o(a(t),e.values,e.options)}}},y.remove=function(){var e=s(arguments);return{in:function(t){return i(a(t),e.values,e.options)}}},y.empty=function(e){var t=s([[],e]).options;return{in:function(e){return c(a(e),t)}}},y.configure=function(t){return this._config=e(this._config,t),"object"==typeof t.descriptor&&(this._config.descriptor=t.descriptor),this},y.utils={getProto:f,getSymbols:p,addArray:u,mergeObjects:l,assignObjects:e},y.internal={Interface:g,Interfaces:_,implementIn:o,removeIn:i,emptyIn:c,debugs:h,resolveArgs:s,targetProto:a},y});
//# sourceMappingURL=interf-core.min.js.map
